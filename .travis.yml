language: node_js
cache:
  directories:
    - $HOME/.npm
    - $HOME/.yarn-cache
    - node_modules
    - js-given/node_modules
    - documentation/node_modules
node_js:
  - "4.8.3"
  - "5.12.0"
  - "6.10.3"
  - "7.10.0"
before_install:
  - npm i -g yarn
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 # give xvfb some time to start
install:
  - yarn
  - cd js-given
  - yarn
  - npm run postinstall
  - cd ../documentation
  - yarn
  - cd ..
